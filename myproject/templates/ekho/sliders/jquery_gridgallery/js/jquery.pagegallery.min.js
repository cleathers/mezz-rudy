(function(c){function b(d,l,i){l[d].addClass("selected").siblings().removeClass("selected");var e=l[d].find("img"),m=e.data("large"),k=e.data("caption"),j=e.data("type");var g=c("div#"+i.data("settings").largeContainerID);g.find("div.closeButton").hide();clearInterval(i.data("slideShowInt"));if(j!="video"){c("<img/>").load(function(){g.find("img").remove();g.find("span").remove();g.find("iframe").remove();g.append('<img src="'+m+'"/>');var n=g.find("img");n.addClass("animated "+i.data("settings").largeImgEase);imgRealHeight=this.height;if(i.data("settings").closeButtonPosition=="left"){g.find("div.closeButton").css({marginTop:-14,marginLeft:(i.width()-this.width)*0.5-14})}else{g.find("div.closeButton").css({marginTop:-14,marginLeft:this.width+(i.width()-this.width)*0.5-14})}g.find("div.closeButton").delay(600).fadeIn();i.data("imgRealHeight",imgRealHeight);g.css("marginTop",(c(window).height()-imgRealHeight)*0.5+i.data("settings").largeContainerOffset+"px");if(k!=""&&k){g.append('<span class="caption">'+k+"</span>");g.find("span").addClass("animate1 "+i.data("settings").largeImgEase)}i.data("arrowButton").show();clearInterval(i.data("slideShowInt"));if(i.data("slideShow")&&i.data("settings").slideShow){var o=setInterval(function(){var p=i.data("currentImgNum");p++;if(p>l.length-1){p=0}a(p,l,i);i.data("currentImgNum",p)},i.data("settings").slideShowDelay);i.data("slideShowInt",o)}}).attr("src",m)}else{var f=e.data("width");var h=e.data("height");i.data("imgRealHeight",h);g.find("img").remove();g.find("span").remove();g.find("iframe").remove();if(i.data("settings").closeButtonPosition=="left"){g.find("div.closeButton").css({marginTop:-14,marginLeft:(i.width()-f)*0.5-14})}else{g.find("div.closeButton").css({marginTop:-14,marginLeft:f+(i.width()-f)*0.5-14})}g.find("div.closeButton").delay(600).fadeIn();g.append('<iframe src="'+m+' + "width="'+f+' + "height="'+h+' "frameborder="0" webkitAllowFullScreen allowFullScreen />');g.css("marginTop",(c(window).height()-h)*0.5+i.data("settings").largeContainerOffset+"px");if(k!=""&&k){g.append('<span class="caption">'+k+"</span>");g.find("span").addClass("animate1 "+i.data("settings").largeImgEase)}}}function a(d,e,f){if(e[f.data("currentImgNum")].find("img").data("type")!="video"){b(d,e,f);c("div.holder").jPages(Math.floor(d/f.data("settings").perPage)+1)}}c.fn.extend({pageGallery:function(r){var f={thumbContainerID:"thumbnails",largeContainerID:"largeImage",perPage:5,gridThumbEase:false,listThumbEase:false,largeImgEase:"fadeInUp",largeContainerOffset:-80,largeImgClickable:true,closeButtonPosition:"right",slideShow:true,slideShowDelay:5000};if(r){c.extend(f,r)}var j=this;var l=c("div#"+f.largeContainerID);c("div.holder").jPages({containerID:f.thumbContainerID,perPage:5,direction:"auto",animation:f.listThumbEase});var h;var o=[];var n=f.perPage;j.data("settings",f);c("ul#"+f.thumbContainerID+" li").each(function(s){o[s]=c(this);c(this).attr("rel",s)});c("ul#"+f.thumbContainerID+" li").on("click",function(t){var s=c(this).attr("rel");if(k){l.find("img").remove();l.find("span").remove();l.find("iframe").remove();l.fadeIn();c("div.holder").jPages("destroy").jPages({containerID:f.thumbContainerID,perPage:5,direction:"auto",animation:f.listThumbEase});n=f.perPage;c("div.holder").jPages(Math.floor(s/n)+1);d.hide();c("div.thumbContainer").animate({marginBottom:0},600,function(){l.show();b(s,o,j);m=s;j.data("currentImgNum")});k=false}else{if(j.data("currentImgNum")!=s){p.fadeIn();b(s,o,j);m=s;j.data("currentImgNum",m)}}});var d=c('<div class="'+f.closeButtonClass+' closeButton"></div>');l.append(d);d.css({cursor:"pointer"});d.on("click",function(s){l.fadeOut();c("div.holder").jPages("destroy").jPages({containerID:f.thumbContainerID,perPage:15,direction:"auto",animation:f.gridThumbEase,callback:function(){c("div.thumbContainer").css({marginBottom:(c(window).height()-c("div.thumbContainer").height())*0.5})}});n=12;c("div.thumbContainer").animate({marginBottom:(c(window).height()-c("div.thumbContainer").height())*0.5},600);p.fadeOut();clearInterval(j.data("slideShowInt"));j.data("slideShow",false);k=true});var p=c('<div id="arrowButton"><div class="prevArrow"></div><div class="nextArrow"></div></div>');j.data("arrowButton",p);var q,e,g;if(c("#arrowButton")[0]==undefined){c(document.body).append(p);p.hide();q=c(".nextArrow",p).on("click",function(t){var s=m;s++;if(s>o.length-1){s=0}b(s,o,j);c("div.holder").jPages(Math.floor(s/f.perPage)+1);m=s;j.data("currentImgNum",m)});e=c(".prevArrow",p).on("click",function(t){var s=m;s--;if(s<0){s=o.length-1}b(s,o,j);c("div.holder").jPages(Math.floor(s/f.perPage)+1);m=s;j.data("currentImgNum",m)});g=q.height();var i=Math.ceil((c(window).height()-g)*0.5+f.largeContainerOffset);p.css("top",i);c(window).resize(function(t){var s=Math.ceil((c(window).height()-g)*0.5+f.largeContainerOffset);p.css("top",s)})}b(0,o,j);var m=0;j.data("currentImgNum",m);var k=false;l.on("mouseover",function(s){clearInterval(j.data("slideShowInt"));j.data("slideShow",false)});l.on("mouseout",function(s){if(f.slideShow&&!k){j.data("slideShow",true);if(o[m].find("img").data("type")!="video"){var t=setInterval(function(){var u=m;u++;if(u>o.length-1){u=0}a(u,o,j);m=u;j.data("currentImgNum",m)},j.data("settings").slideShowDelay);j.data("slideShowInt",t)}}});if(f.largeImgClickable){l.on("click",function(t){if(o[m].find("img").data("type")!="video"&&t.target.nodeName.toLowerCase()=="img"){var s=m;s++;if(s>o.length-1){s=0}b(s,o,j);c("div.holder").jPages(Math.floor(s/f.perPage)+1);m=s;j.data("currentImgNum",m)}})}j.data("slideShow",f.slideShow);c(window).resize(function(){h=j.data("imgRealHeight");l.css("marginTop",(c(window).height()-h)*0.5+f.largeContainerOffset+"px");if(k){c("div.thumbContainer").css("marginBottom",(c(window).height()-c("div.thumbContainer").height())*0.5)}});j.destroy=function(){c("div.holder").jPages("destroy");c("ul#"+f.thumbContainerID+" li").off();d.remove();p.remove();l.off();m=0;c("div.thumbContainer").animate({marginBottom:0},600,function(){l.fadeIn()});clearInterval(j.data("slideShowInt"));j.data("slideShow",false);j.removeData("settings");k=false};return this}})})(jQuery);